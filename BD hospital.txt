CREATE DATABASE hospital;
USE hospital;
CREATE TABLE MEDICO(
APELIDO VARCHAR(20),
NOMES VARCHAR (50),
SEXO VARCHAR(10),
DATA_NASCIMENTO DATE NOT NULL,
NACIONALIDADE VARCHAR(20),
ENDERECO VARCHAR(20),
EMAIL VARCHAR(60),
NR_BI VARCHAR(20) NOT NULL PRIMARY KEY,
ESPECIALIDADE VARCHAR(20),
CONTACTO VARCHAR(15),
ESTADO VARCHAR (15) DEFAULT 'ON'
)ENGINE = InnoDB;

CREATE TABLE USUARIOS(
ID_USU INT NOT NULL PRIMARY KEY,
NR_BI VARCHAR(15),
SENHA VARCHAR(15),
NIVEL VARCHAR(15) 
)ENGINE = InnoDB;

CREATE TABLE PACIENTE(
APELIDO VARCHAR(20),
NOMES VARCHAR (50),
SEXO VARCHAR(10),
DATA_NASCIMENTO DATE NOT NULL,
ENDERECO VARCHAR(20),
EMAIL VARCHAR(60),
NR_BI VARCHAR(20) NOT NULL PRIMARY KEY,
CONTACTO VARCHAR(15),
ESTADO VARCHAR (15) DEFAULT 'ON'
)ENGINE = InnoDB; 

CREATE TABLE CONSULTA(
ID_CONSULTA INT NOT NULL PRIMARY KEY,
ID_MEDICO VARCHAR(20),
ID_PACIENTE VARCHAR(20),
DOENCA VARCHAR(20),
DATA_CONSULTA DATE
)ENGINE = InnoDB; 

CREATE TABLE AGENDAMENTO(
ID_AGENDAMENTO INT NOT NULL PRIMARY KEY,
NOME VARCHAR (60),
NR_BI VARCHAR(20),
CONTACTO VARCHAR(15),
EMAIL VARCHAR(60),
ESTADO VARCHAR (15) DEFAULT 'Pendente',
DATA DATE,
HORA DATE
)ENGINE = InnoDB;

CREATE TABLE MARCAR(
ID INT NOT NULL PRIMARY KEY,
NOME VARCHAR (60),
NR_BI VARCHAR(20),
CONTACTO VARCHAR(15),
EMAIL VARCHAR(60),
SINTOMAS VARCHAR(255)
)ENGINE = InnoDB;

ALTER TABLE CONSULTA ADD FOREIGN KEY(ID_MEDICO) REFERENCES MEDICO(NR_BI);
ALTER TABLE CONSULTA ADD FOREIGN KEY(ID_PACIENTE) REFERENCES PACIENTE(NR_BI);
